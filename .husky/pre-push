#!/bin/bash

# Pre-push hook: Run tests for changed files before pushing
# This prevents pushing broken changes while staying fast

echo "ğŸš€ Pre-push checks..."

# Run tests only for changed files
echo "ğŸ§ª Running tests for changed files..."
if ! pnpm run test:quick; then
  echo ""
  echo "âŒ Tests failed! Push blocked."
  echo ""
  echo "Options:"
  echo "  - Fix failing tests"
  echo "  - Use 'git push --no-verify' to skip (not recommended)"
  exit 1
fi

echo ""
echo "âœ… Related tests passed! Pushing..."
